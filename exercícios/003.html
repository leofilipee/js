<!DOCTYPE html>
<html lang="pt-pt">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-size: 1.5rem;
            font-family: 'Times New Roman', Times, serif;
        }

        body {
            background-color: #3C80D0;
        }

        h1 {
            text-align: center;
            color: #fff;
            margin: 30px 0 10px;
        }

        .container {
            padding: 20px;
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            width: 80%;
            margin: 0 auto;
            height: 700px;
        }

        div .form {
            margin: 20px auto;
        }

        div .form form {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            padding: 20px;
            margin: 20px auto;
            width: 90%;
        }

        button {
            background-color: #3C80D0;
            color: white;
            border: none;
            border-radius: 5px;
            padding: 10px 20px;
            cursor: pointer;
            transition: background-color 0.3s;
            margin: 0 auto;
            grid-column: span 2;
        }

        button:hover {
            background-color: #2a5b8c;
        }

        div .text {
            text-align: center;
            margin: 20px auto;
            font-size: 1.5rem;
        }

        div .img {
            margin: 20px auto;
            width: 300px;
            height: 300px;
            background-color: lightgray;
            border-radius: 50%;
            background-image: url('https://preview.redd.it/33r8ripn59x51.jpg?auto=webp&s=1b5f616fbb198abb134222be490ea13f2b4e8a6a');
            background-size: cover;
        }

        a {
            text-decoration: none;
            color: #fff;
            font-size: 1.2rem;
            display: block;
            text-align: center;
            margin: 20px auto;
        }

        a:hover {
            color: rgb(80, 80, 80);
        }
    </style>
</head>

<body>

    <h1>Verificador de Idade</h1>

    <div class="container">

        <div class="form">
            <form action="">
                <label for="nascimento">Data de Nascimento:</label>
                <input type="date" name="nascimento" id="nascimento" required>

                <label for="sexo-select">Sexo:</label>
                <select name="sexo" id="sexo-select" required>
                    <option value="masculino">Masculino</option>
                    <option value="feminino">Feminino</option>
                </select>

                <button type="submit">Verificar</button>
            </form>
        </div>

        <div class="text">
            <h2>Olá, <span id="sexo"></span> de <span id="ano"></span> anos!</h2>
        </div>

        <div class="img"></div>

    </div>

    <p><a href="https://github.com/leofilipee">Leo Filipe</a></p>

    <script>

        // O script está correto em sua estrutura geral.
        const form = document.querySelector('form');
        const sexoSpan = document.getElementById('sexo');
        const anoSpan = document.getElementById('ano');
        const nascimentoInput = document.getElementById('nascimento');
        const sexoSelect = document.getElementById('sexo-select');

        form.addEventListener('submit', (event) => {
            event.preventDefault();

            const dataStr = nascimentoInput.value; // formato YYYY-MM-DD
            if (!dataStr) {
                alert('Por favor, selecione a data de nascimento.');
                nascimentoInput.focus();
                return;
            }

            const hoje = new Date();
            const nascimento = new Date(dataStr + 'T00:00:00'); // evitar fuso

            if (isNaN(nascimento.getTime())) {
                alert('Data inválida.');
                return;
            }
            if (nascimento > hoje) {
                alert('A data de nascimento não pode ser no futuro.');
                return;
            }

            let idade = hoje.getFullYear() - nascimento.getFullYear();
            const mes = hoje.getMonth() - nascimento.getMonth();
            if (mes < 0 || (mes === 0 && hoje.getDate() < nascimento.getDate())) {
                idade--;
            }

            // Segurança: idade mínima plausível
            if (idade < 0 || idade > 130) {
                alert('Idade calculada fora do intervalo plausível.');
                return;
            }

            const sexo = sexoSelect.value; // 'masculino' ou 'feminino'
            const pronome = sexo === 'masculino' ? 'Senhor' : 'Senhora';

            sexoSpan.textContent = pronome;
            anoSpan.textContent = idade.toString();
        });

    </script>

</body>

</html>